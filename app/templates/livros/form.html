{% extends "base.html" %}
{% block title %}Cadastro de Livro{% endblock %}
{% block content %}
<h2>{{ 'Editar Livro' if livro else 'Novo Livro' }}</h2>
<form method="POST">
    <label>Título:</label>
    <input type="text" name="titulo" value="{{ livro.get_titulo() if livro else '' }}" required>

    <label>Gênero:</label>
    <input type="text" name="genero" value="{{ livro.get_genero() if livro else '' }}" required>

    <label>Ano de Publicação:</label>
    <input type="number" name="ano_publicacao" value="{{ livro.get_ano_publicacao() if livro else '' }}" required>

    <label>Autor:</label>
    <select name="autor_id" required>
        {% for autor in autores %}
        <option value="{{ autor.get_id() }}" {% if livro and livro.get_autor_id()==autor.get_id() %}selected{% endif %}>
            {{ autor.get_nome() }}
        </option>
        {% endfor %}
    </select>

    <button type="submit">Salvar</button>

    <p>
        <a href="{{ url_for('list_livros') }}">Cancelar</a>
    </p>
</form>
{% endblock %}